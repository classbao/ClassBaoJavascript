<!doctype html>
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="MobileOptimized" content="240">
	<meta name="applicable-device" content="mobile">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<meta name="format-detection" content="telephone=no,email=no,adress=no">

	<!-- <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"> -->
	<!-- <link href="/favicon.ico" rel="icon" type="image/x-icon"> -->
	<!-- <link href="/Content/mobile/css/style.css?=202308082222" rel="stylesheet" type="text/css"> -->

	<meta name="theme-color" content="#3c80d4" media="(prefers-color-scheme: light)">
	<meta name="theme-color" content="#9cc8ff" media="(prefers-color-scheme: dark)">

	<title>饼状图</title>
	<meta name="keywords" content="饼状图">
	<meta name="Description" content="饼状图">
	<meta name="author" content="文学资料">

	<!-- CSS样式 -->
	<style type="text/css">
	</style>

	<!-- <script src="/Content/mobile/js/xxx.js"></script> -->
	<!-- JS脚本 -->
	<script>

	</script>

</head>

<body>

	<canvas id="myCanvas" width="500" height="500">Your browser does not support the canvas element.</canvas>

	<!-- JS脚本 -->
	<script>
		var data = [
			{
				value: .3,
				title: '30%',
				color: 'red',
			},
			{
				value: .26,
				title: '26%',
				color: 'yellow',
			},
			{
				value: .1,
				title: '10%',
				color: 'blue',
			},
			{
				value: .15,
				title: '15%',
				color: 'pink',
			},
			{
				value: .19,
				title: '19%',
				color: 'green',
			}
		];;

		const canvas = document.getElementById('myCanvas');
		canvas.style.border = '1px solid #000';

		move(-90, 250, 250, 200);
		function move(jd, x, y, r) {
			var ctx = canvas.getContext('2d');
			for (var i = 0; i < data.length; i++) {
				ctx.beginPath()
				var sa = data[i].value * 360;
				ctx.moveTo(250, 250)
				ctx.arc(x, y, r, jd * Math.PI / 180, (sa + jd) * Math.PI / 180);
				ctx.fillStyle = data[i].color;
				ctx.stroke();
				ctx.fill();
				var x1 = Math.cos((jd + (sa + jd)) / 2 * Math.PI / 180) * (r / 2) + x;
				var y1 = Math.sin((jd + (sa + jd)) / 2 * Math.PI / 180) * (r / 2) + y;
				ctx.beginPath();
				ctx.font = "18px 宋体";
				ctx.fillStyle = '#000';
				ctx.fillText(data[i].title, x1, y1)
				jd = (sa + jd);
			}
		}

	</script>



</body>

</html>